\section{Sazrevanje Javaskripta}
\label{sec:sazrevanje-javaskripta}

\subsection{Nastanak}

Javaskript je nastao maja 1995. godine kao \textquote{jezik-lepak} \cite{computerworld:a-z-of-js} za tadašnji dominantni brauzer Netskejp (\textsl{Netscape}) \cite{axel-rauschmayer:impatient}, kada ga je \textbf{Brendan Ajk} definisao za samo deset dana.
Prvobitno nazvan \textsl{Mocha}, četiri meseca kasnije biva prekršten u \textsl{LiveScript} da bi tri meseca nakon toga dobio ime po kojem je i danas poznat: \textsl{JavaScript} \cite{a-brief-history-of-js}.
Ovaj jezik je nastao iz potrebe za premošćavanjem jaza izmedu brauzera kao korisničkog okruženja za prikaz dokumenata i jezika za opis tih dokumenata, HTML-a.

Sa pojavom drugih brauzera, pojavili su se i jezici koji su očigledno bili inspirisani Javaskriptom, ali njihovi stvaratelji nisu smeli da ga zvanično tretiraju kao Javaskript zbog autorskih prava koji je imao San Majkrosistems (\textsl{Sun Microsystems}).
Na primer, Javaskript je poslužio kao podloga Adobiju za jezik Ekšnskript (\textsl{ActionScript}), i sada predstavlja njegov zvaničan dijalekat.
Ipak, najpoznatiji primer kopije Javaskripta je nesumnjivo \textsl{JScript} koji je došao uz Majkrosoftov Internet Eksplorer u verziji 3, već krajem 1996.
Osim u imenu, razlikovao se i u nekim detaljima u implementaciji, ali i u API-ju za komunikaciju sa DOM-om.
Iz tog razloga je ubrzo organizovana komisija za standardizaciju Javaskripta, nazvana ECMA \cite{axel-rauschmayer:speaking}.

\subsection{Pokušaji popravke}

Osnova za moderni Javaskript definisana je 1999. godine u trećoj verziji standarda, \textbf{ES3}.
Počelo se sa radom na četvrtoj verziji, koja je trebalo da bude još radikalnija i da ispravi neke \textquote{greške} u Javaskript standardu.
Najavljivane promene su bile toliko velike da su čak dovele do toga da ES4 bude postane poznat kao \textquote{Javaskript 2}.
Medutim, komitet za standardizaciju je bio podeljen: dok se jedna strana zalagala za poboljšanje jezika zarad bolje budućnosti, druga se bojala da će ovime nastati prevelika pometnja, jer bi sve veb-stranice koje koriste “stari” Javaskript prestale da rade zbog promene u sintaksi jezika (tzv. \textquote{slamanje veba}).
Sukob je aktivno trajao do 2003, kada je projekat zvanično napušten \cite{incomplete-js-history}.

Dve godine kasnije, osnivač Javaskripta Ajk u saradnji za Mozilom počinje da radi na projektu E4X.
Pridružuje im se i Makromedija (\textsl{Macromedia}; sada Adobi, \textsl{Adobe}), u nadi da će standardizovati svoj Ekšnskript 3 u saradnji sa ECMA-om, i time ponovo spojiti razdeljene dijalekte jezika.
Ipak, razlika je bila previše velika, što su obe strane počele da shvataju krajem 2007. godine.
Otprilike u to vreme, \textbf{Daglas Krokford}, koji je tada radio u Jahuu (\textsl{Yahoo}), udružuje snage sa Majkrosoftom kao opozicija promenama koje treba da budu definisane standardom \textbf{ES4} \cite{axel-rauschmayer:speaking}, a svoje stavove iskazuju tako što standard žele da nazovu jednostavno ES3.1, jer unosi samo neznatne promene.

Sve se ovo dešava u vreme kada je Javaskript zajednica pokrenula revoluciju u mogućnostima koje pruža Javaskript, što nesumnjivo otpočinje 2005. godine kada je \textbf{Džesi Džejms Geret} objavio članak u kome se prvi put pojavljuje termin Ajaks koji je iskoristio za opis skupa tehnologija izgradenim nad Javaskriptom.
Ovo je bio renesansni period za jezik, i tada počinju da se javljaju biblioteke otvorenog koda kao što su \textsl{jQuery}, \textsl{Mootools} i \textsl{Dojo} koje su do pojave SPA okvira bile dominantni alati za izgradnju dinamičkih veb-sajtova i veb-aplikacija.

Iz rata oko konačnog oblika četvrte verzije standarda koji se konačno okončava 2009. godine izlazi Krokford.
U Javaskript je posle dvanaest godina uneto svega nekoliko neznatnih promena, a rezultujući standard je preimenovan u \textbf{ES5}, kako ne bi došlo do kasnije zabune oko eventualne četvrte verzije o kojoj se već godinama govori.
U standard tada dolazi takozvani \textquote{strogi režim} (\textsl{strict mode}), koji definiše \textquote{strožu} verziju jezika, ali na kompatibilan način, kako ne bi narušio već postojeći kod koji se nalazi na vebu.

Dve godine kasnije usledila je mala promena standarda, editorijalnog karaktera, nazvana ES5.1, koja nije bila od većeg značaja za Javaskript.

\subsection{Godišnji ciklusi}

Nove osobine Javaskripta koje nisu ušle u ES5 standard ostale su poznate pod imenom Harmonija (\textsl{Harmony}).
Tek 2015. godine se ECMA komitet ponovo sastaje radi definisanja standarda šeste edicije standarda, kada se konačno, posle petanest godina nagomilanih ideja za proširene i poboljšanje jezika, sprovode u delo.
Šesta edicija standarda je vrlo kratko pre zvaničnog objavljanja preimanovana iz ES6 u \textbf{ES2015}, zbog ideje da se u nastavku standard za Javaskript obnavlja na svakih godinu dana, kako naredne promene ne bi bile toliko velike kao ova.

ES2015 je drastično promenio izgled Javaskripta, čime je omogućeno znatno jednostavnije pisanje složenih aplikacija \cite{axel-rauschmayer:es6}.
Nesumnjivo najznačanija novina u jeziku su moduli koji omogućuju podelu koda u fajlove, ali je tu i intuitivnija sintaksa za defisanje klasa, iteratori i generatori (koji će poslužiti kao osnova za \code{async}/\code{await} u ES2017), generatorski izrazi, \code{for...of} petlje, \textquote{streličaste} funkcije za sintaksno jednostavnije pisanje funkcionalnog koda, binarni podaci, tipizirani nizovi, kolekcije (mape, skupovi, slabe mape), promisi, dodatne funkcije na `Math` objektu, bolja refleksija, kao i posrednici za metaprogramiranje virtuelnih objekata i omotača.

\textbf{Sedma edicija} (ES2016) objavljena je, po dogovoru, 2016. godine i uvodi samo blage promene \cite{axel-rauschmayer:es2016:es2017}: operator za stepenovanje \code{**} i \code{Array\#includes}. Sledeća edicija uvodi dosta promena u jezik koje omogućavaju da se procesorska moć iskoristi na znatno višem nivou nego ranije. Medu novinama iz \textbf{ES2017} izdvaja se mogućnost paralelnog programiranja, izvodenja atomičnih operacija ukoliko ih procesor podržava, nadgledanja tokova podataka (\textsl{observable streams}) i definisanja tipova podataka koji omogućuju SIMD programiranje. Sem toga, uvedena je sintaksna integracija promisa i generatora pomoću ključnih reči \code{async} i \code{await}, a bolji Simboli predstavljaju korak bliže predefinisanju operatora.

Presek za \textbf{ES2018} napravljen je juna 2018. godine, a u novine se ubraja korišćenje \textsl{rest/spread} sintakse za objekte pored nizova, asinhrona iteracija (\code{for await...of} petlje), metoda \code{finally} nad prototipom promisa i imenovane grupe u regeksima \cite{axel-rauschmayer:es2018:es2019}.

\subsection{Odbor TC39}

Proces usvajanja nove konstrukcije u jezik nije jednostavan i ne dešava se preko noći.
Ekmasript je dizajniran od strane odbora koji se naziva \textbf{TC39}, a sačinjen je od kompanija među kojima su i kreatori svih značajnijih brauzera.
Redovnim sastancima prisustvuju delegati koje biraju kompanije-članice, a nekada se pridružuju i spoljni eksperti za određene oblasti.
Sažeci sastanka su javno dostupni.

Odbor je organizovan uz izdanje ES2016, kada je zvanično potvrđeno da će se jezik nadograđivati na godišnjem nivou.
Konačnu odluku o uvođenju osobine u Javaskript donosi većina iz odbora, ali pod uslovom da nijedna članica nije strogo protiv ideje.
Kako su mnoge članice kompanije koje rade na razviću brauzera, za njih slaganje sa promenom jezika sa sobom nosi i teret odgovornosti oko njihove implementacije.

Svaki predlog za dopunu jezika prolazi kroz nekoliko \textit{faza zrelosti}, počev od nulte faze \cite{axel-rauschmayer:tc39}.
Prelazak u sledeću fazu mora biti odobren od strane odbora.
Svaki predlog počinje kao neformalna, tzv. \textbf{slamnata} (\textsl{strawman}) ideja -- ovo je faza 0.
Ukoliko TC39 smatra da predlog ima potencijal, on se dodaju na listu slamnatih predloga.

U fazi 1 se za ideju formalno može govoriti kao o \textbf{predlogu} (\textsl{proposal}). 
Za predlog se bira jedan \textit{šampion} koji je za njega odgovoran, pri čemu jedan od šampiona i ko-šampiona mora da bude član odbora.
U ovoj fazi se daje tekstualni opis ideje, praćen primerima, diskusiji o API-ju, semantici koja se uvodi u jezik i algoritmima koji će se koristiti za obavljanje metoda koje se uvode u jezik.
Takođe se identifikuju potencijalne prepreke u usvajanju predloga u specifikaciju jezika.
Ukoliko predlog to dozvoljava, neophodno je da se implementiraju polifilovi\footnote{Polifil (\textsl{polyfill} je funkcija koja implementira funkcionalnost jezika koja u trenutnoj verziji ne postoji. Osnanja se na postojeće osobine jezika. Obično se imeplementiraju promenom prototipskih metoda ili dodavanjem vrednosti u globalni objekat kao što je \code{window}.} i nekoliko demonstracija koje ih koriste.

Prva faza samo iskazuje da je odbor zainteresovan za predlog.
Tek kada predlog pređe u drugu fazu, počinje da se piše \textbf{nacrt} (\textsl{draft}) -- to je prva verzija onoga što treba da postane deo formalne specifikacije jezika.
Nadalje se očekuju samo inkrementalne promene.

Treću fazu čine \textbf{kandidati} (\textsl{candidate}).
U ovoj fazi, specifikacija je kompletirana i moraju da postoje barem dve međusobno nezavisne implementacije u popularnim brauzerima.

\textbf{Završeni} (\textsl{finished}) predlozi su spremni da se dodaju u standard.
Da bi se predlog našao u ovoj fazi, potrebno je da obe implementacije zadovoljavaju \textquote{Test262}\footnote{\textsl{Test262} je sertifikat kojim se potvrđuje usaglašenost najnovije verzije nacrta specifikacije i implementacije određenih delova ECMA standarda.}.
